"use strict";exports.id=4852,exports.ids=[4852],exports.modules={4780:(e,t,a)=>{a.d(t,{cn:()=>n});var s=a(49384),r=a(82348);function n(...e){return(0,r.QP)((0,s.$)(e))}},5336:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},11437:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},27693:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("git-commit-horizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]])},29523:(e,t,a)=>{a.d(t,{$:()=>c});var s=a(60687);a(43210);var r=a(8730),n=a(24224),i=a(4780);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:t,size:a,asChild:n=!1,...c}){let o=n?r.DX:"button";return(0,s.jsx)(o,{"data-slot":"button",className:(0,i.cn)(d({variant:t,size:a,className:e})),...c})}},44493:(e,t,a)=>{a.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i});var s=a(60687);a(43210);var r=a(4780);function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function c({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}},45583:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},54786:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])},58559:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},67821:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},78122:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},80600:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(60687),r=a(43210),n=a(44493),i=a(29523),d=a(96834),c=a(78122),o=a(11437),l=a(99891),u=a(84027),x=a(67821),g=a(27693);function m(){let[e,t]=(0,r.useState)(!0),[a,m]=(0,r.useState)([]),v=async()=>{try{let e=await fetch("/api/cicd/deployments"),t=await e.json();m(t.data)}catch(e){m([{id:"1",version:"v2.1.0",environment:"production",status:"success",branch:"main",commit:"a1b2c3d4",author:"John Doe",startedAt:new Date(Date.now()-72e5).toISOString(),completedAt:new Date(Date.now()-54e5).toISOString(),duration:1800,changes:{added:12,modified:34,deleted:5},tests:{total:285,passed:276,failed:9}}])}finally{t(!1)}};if(e)return(0,s.jsxs)("div",{className:"flex items-center justify-center h-48",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 animate-spin"}),(0,s.jsx)("span",{className:"ml-2 text-sm",children:"加载CI/CD数据..."})]});let h=e=>"success"===e?(0,s.jsx)(d.E,{className:"bg-green-100 text-green-800",children:"成功"}):"failed"===e?(0,s.jsx)(d.E,{variant:"destructive",children:"失败"}):"running"===e?(0,s.jsx)(d.E,{className:"bg-blue-100 text-blue-800",children:"运行中"}):"rolled_back"===e?(0,s.jsx)(d.E,{variant:"secondary",children:"已回滚"}):(0,s.jsx)(d.E,{variant:"outline",children:"待定"}),p=e=>(0,s.jsx)(d.E,{className:"production"===e?"text-green-600 bg-green-50":"staging"===e?"text-blue-600 bg-blue-50":"text-gray-600 bg-gray-50",children:e});return(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["production"===e.environment?(0,s.jsx)(o.A,{className:"h-4 w-4"}):"staging"===e.environment?(0,s.jsx)(l.A,{className:"h-4 w-4"}):(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.ZB,{className:"text-lg flex items-center gap-2",children:[e.version," ",p(e.environment)," ",h(e.status)]}),(0,s.jsx)(n.BT,{children:(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(x.A,{className:"h-3 w-3"}),e.branch]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(g.A,{className:"h-3 w-3"}),e.commit.slice(0,7)]}),(0,s.jsxs)("span",{children:["作者: ",e.author]})]})})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:"failed"===e.status&&(0,s.jsx)(i.$,{size:"sm",variant:"outline",onClick:async()=>{await fetch("/api/cicd/rollback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deploymentId:e.id})}),v()},children:"回滚"})})]})}),(0,s.jsx)(n.Wu,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"开始时间"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.startedAt).toLocaleString()})]}),e.completedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"完成时间"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.completedAt).toLocaleString()})]}),e.duration&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"持续时间"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Math.floor(e.duration/60),"分",e.duration%60,"秒"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"代码变更"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",e.changes.added," -",e.changes.deleted," ~",e.changes.modified]})]})]})})]},e.id))})}},84027:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},85763:(e,t,a)=>{a.d(t,{Tabs:()=>i,TabsContent:()=>o,TabsList:()=>d,TabsTrigger:()=>c});var s=a(60687);a(43210);var r=a(55146),n=a(4780);function i({className:e,...t}){return(0,s.jsx)(r.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",e),...t})}function d({className:e,...t}){return(0,s.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function c({className:e,...t}){return(0,s.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function o({className:e,...t}){return(0,s.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",e),...t})}},96834:(e,t,a)=>{a.d(t,{E:()=>c});var s=a(60687);a(43210);var r=a(8730),n=a(24224),i=a(4780);let d=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c({className:e,variant:t,asChild:a=!1,...n}){let c=a?r.DX:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(d({variant:t}),e),...n})}},99891:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(40307).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};