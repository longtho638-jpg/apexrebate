(()=>{var e={};e.id=2778,e.ids=[2778],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11273:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var a=s(43210),t=s(60687);function n(e,r=[]){let s=[],i=()=>{let r=s.map(e=>a.createContext(e));return function(s){let t=s?.[e]||r;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:t}}),[s,t])}};return i.scopeName=e,[function(r,n){let i=a.createContext(n),l=s.length;s=[...s,n];let o=r=>{let{scope:s,children:n,...o}=r,c=s?.[e]?.[l]||i,d=a.useMemo(()=>o,Object.values(o));return(0,t.jsx)(c.Provider,{value:d,children:n})};return o.displayName=r+"Provider",[o,function(s,t){let o=t?.[e]?.[l]||i,c=a.useContext(o);if(c)return c;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=s.reduce((r,{useScope:s,scopeName:a})=>{let t=s(e)[`__scope${a}`];return{...r,...t}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:t}),[t])}};return s.scopeName=r.scopeName,s}(i,...r)]}},11860:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(40307).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},13964:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(40307).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},14163:(e,r,s)=>{"use strict";s.d(r,{hO:()=>o,sG:()=>l});var a=s(43210),t=s(51215),n=s(8730),i=s(60687),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=(0,n.TL)(`Primitive.${r}`),t=a.forwardRef((e,a)=>{let{asChild:t,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(t?s:r,{...n,ref:a})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function o(e,r){e&&t.flushSync(()=>e.dispatchEvent(r))}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},46657:(e,r,s)=>{"use strict";s.d(r,{k:()=>b});var a=s(60687),t=s(43210),n=s(11273),i=s(14163),l="Progress",[o,c]=(0,n.A)(l),[d,u]=o(l),p=t.forwardRef((e,r)=>{var s,t;let{__scopeProgress:n,value:l=null,max:o,getValueLabel:c=h,...u}=e;(o||0===o)&&!j(o)&&console.error((s=`${o}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let p=j(o)?o:100;null===l||g(l,p)||console.error((t=`${l}`,`Invalid prop \`value\` of value \`${t}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=g(l,p)?l:null,x=v(m)?c(m,p):void 0;return(0,a.jsx)(d,{scope:n,value:m,max:p,children:(0,a.jsx)(i.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":v(m)?m:void 0,"aria-valuetext":x,role:"progressbar","data-state":f(m,p),"data-value":m??void 0,"data-max":p,...u,ref:r})})});p.displayName=l;var m="ProgressIndicator",x=t.forwardRef((e,r)=>{let{__scopeProgress:s,...t}=e,n=u(m,s);return(0,a.jsx)(i.sG.div,{"data-state":f(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...t,ref:r})});function h(e,r){return`${Math.round(e/r*100)}%`}function f(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function v(e){return"number"==typeof e}function j(e){return v(e)&&!isNaN(e)&&e>0}function g(e,r){return v(e)&&!isNaN(e)&&e<=r&&e>=0}x.displayName=m;var y=s(4780);function b({className:e,value:r,...s}){return(0,a.jsx)(p,{"data-slot":"progress",className:(0,y.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:(0,a.jsx)(x,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}},55749:(e,r,s)=>{Promise.resolve().then(s.bind(s,94796))},58869:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(40307).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68901:(e,r,s)=>{Promise.resolve().then(s.bind(s,70058))},70058:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>N});var a=s(60687),t=s(43210),n=s(16189),i=s(85814),l=s.n(i),o=s(29523),c=s(89667),d=s(80013),u=s(44493),p=s(91821),m=s(46657),x=s(99891),h=s(13964),f=s(11860),v=s(41550),j=s(58869),g=s(64021),y=s(12597),b=s(13861);function N(){(0,n.useRouter)();let[e,r]=(0,t.useState)(1),[s,i]=(0,t.useState)(!1),[N,w]=(0,t.useState)(""),[k,P]=(0,t.useState)(""),[C,A]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[$,q]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",experience:"",preferredBroker:"",referralCode:""}),[E,T]=(0,t.useState)({score:0,feedback:[]}),O=async e=>{try{let r=await fetch("/api/auth/password-strength",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),s=await r.json();T(s)}catch(e){console.error("Error checking password strength:",e)}},B=(e,r)=>{q(s=>({...s,[e]:r})),"password"===e&&O(r),w("")},J=()=>$.name&&$.email&&$.password&&$.confirmPassword?$.password!==$.confirmPassword?(w("Passwords do not match"),!1):!(E.score<4)||(w("Please choose a stronger password"),!1):(w("Please fill in all required fields"),!1),F=async()=>{if(J())try{let e=await fetch("/api/auth/check-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:$.email})});if(409===e.status)return void w("An account with this email already exists");r(2)}catch(e){w("Error checking email availability")}},M=async e=>{e.preventDefault(),i(!0),w("");try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),s=await e.json();e.ok?(P("Account created successfully! Please check your email to verify your account."),r(3)):w(s.error||"Failed to create account")}catch(e){w("An error occurred. Please try again.")}finally{i(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"w-full max-w-md",children:(0,a.jsxs)(u.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(u.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mb-4",children:(0,a.jsx)(x.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)(u.ZB,{className:"text-2xl font-bold",children:"Join ApexRebate"}),(0,a.jsxs)(u.BT,{children:[1===e&&"Create your account to start saving on trading fees",2===e&&"Tell us about your trading experience",3===e&&"Verify your email"]})]}),(0,a.jsxs)(u.Wu,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:[1,2,3].map(r=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${r<=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:r<e?(0,a.jsx)(h.A,{className:"h-4 w-4"}):r}),r<3&&(0,a.jsx)("div",{className:`w-full h-1 mx-2 ${r<e?"bg-blue-600":"bg-gray-200"}`})]},r))}),N&&(0,a.jsxs)(p.Fc,{variant:"destructive",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)(p.TN,{children:N})]}),k&&(0,a.jsxs)(p.Fc,{className:"bg-green-50 border-green-200",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(p.TN,{className:"text-green-800",children:k})]}),1===e&&(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"name",children:"Full Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.p,{id:"name",type:"text",placeholder:"John Doe",value:$.name,onChange:e=>B("name",e.target.value),className:"pl-10",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"email",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.p,{id:"email",type:"email",placeholder:"john@example.com",value:$.email,onChange:e=>B("email",e.target.value),className:"pl-10",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.p,{id:"password",type:C?"text":"password",placeholder:"Enter your password",value:$.password,onChange:e=>B("password",e.target.value),className:"pl-10 pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>A(!C),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:C?(0,a.jsx)(y.A,{className:"h-4 w-4"}):(0,a.jsx)(b.A,{className:"h-4 w-4"})})]}),$.password&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{children:["Password strength: ",E.score<=2?"Weak":E.score<=3?"Medium":"Strong"]}),(0,a.jsxs)("span",{className:"text-gray-500",children:[E.score,"/5"]})]}),(0,a.jsx)(m.k,{value:20*E.score,className:"h-2"}),E.feedback.length>0&&(0,a.jsx)("div",{className:"text-xs text-gray-500 space-y-1",children:E.feedback.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-red-500"}),e]},r))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.p,{id:"confirmPassword",type:S?"text":"password",placeholder:"Confirm your password",value:$.confirmPassword,onChange:e=>B("confirmPassword",e.target.value),className:"pl-10 pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>_(!S),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:S?(0,a.jsx)(y.A,{className:"h-4 w-4"}):(0,a.jsx)(b.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(o.$,{type:"submit",className:"w-full",disabled:s,children:s?"Creating Account...":"Next"})]}),2===e&&(0,a.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"experience",children:"Trading Experience"}),(0,a.jsxs)("select",{id:"experience",value:$.experience,onChange:e=>B("experience",e.target.value),className:"w-full p-3 border rounded-md",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select your experience level"}),(0,a.jsx)("option",{value:"beginner",children:"Beginner (<1 year)"}),(0,a.jsx)("option",{value:"intermediate",children:"Intermediate (1-3 years)"}),(0,a.jsx)("option",{value:"advanced",children:"Advanced (3-5 years)"}),(0,a.jsx)("option",{value:"expert",children:"Expert (>5 years)"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"preferredBroker",children:"Preferred Broker"}),(0,a.jsxs)("select",{id:"preferredBroker",value:$.preferredBroker,onChange:e=>B("preferredBroker",e.target.value),className:"w-full p-3 border rounded-md",children:[(0,a.jsx)("option",{value:"",children:"Select your preferred broker"}),(0,a.jsx)("option",{value:"binance",children:"Binance"}),(0,a.jsx)("option",{value:"bybit",children:"Bybit"}),(0,a.jsx)("option",{value:"okx",children:"OKX"}),(0,a.jsx)("option",{value:"coinbase",children:"Coinbase"}),(0,a.jsx)("option",{value:"kraken",children:"Kraken"}),(0,a.jsx)("option",{value:"kucoin",children:"KuCoin"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"referralCode",children:"Referral Code (Optional)"}),(0,a.jsx)(c.p,{id:"referralCode",type:"text",placeholder:"Enter referral code if you have one",value:$.referralCode,onChange:e=>B("referralCode",e.target.value)})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>r(1),className:"flex-1",children:"Back"}),(0,a.jsx)(o.$,{type:"submit",className:"flex-1",disabled:s,children:s?"Creating Account...":"Create Account"})]})]}),3===e&&(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(v.A,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Check Your Email"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-2",children:["We've sent a verification email to ",(0,a.jsx)("strong",{children:$.email})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Please check your inbox and click the verification link to activate your account."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.$,{variant:"outline",onClick:()=>window.location.href="/auth/signin",className:"w-full",children:"Go to Sign In"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Didn't receive the email?"," ",(0,a.jsx)("button",{onClick:M,className:"text-blue-600 hover:underline",disabled:s,children:"Resend verification email"})]})]})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(l(),{href:"/auth/signin",className:"text-blue-600 hover:underline",children:"Sign in"})]})]})]})})})}},79551:e=>{"use strict";e.exports=require("url")},80177:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=s(65239),t=s(48088),n=s(88170),i=s.n(n),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let c={children:["",{children:["auth",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94796)),"/Users/macbookprom1/apexrebate-1/src/app/auth/signup/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/macbookprom1/apexrebate-1/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/macbookprom1/apexrebate-1/src/app/auth/signup/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/auth/signup/page",pathname:"/auth/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94796:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/macbookprom1/apexrebate-1/src/app/auth/signup/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macbookprom1/apexrebate-1/src/app/auth/signup/page.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[7719,689,1658,9365,5814,7747],()=>s(80177));module.exports=a})();