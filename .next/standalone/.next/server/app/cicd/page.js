(()=>{var e={};e.id=6612,e.ids=[6612],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11437:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40307).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19339:(e,s,t)=>{Promise.resolve().then(t.bind(t,46912))},24915:(e,s,t)=>{Promise.resolve().then(t.bind(t,93164))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35071:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40307).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},46912:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C,dynamic:()=>T});var a=t(60687),n=t(43210),l=t(44493),r=t(85763),i=t(96834),c=t(29523),d=t(5336),x=t(84027),m=t(58559),h=t(40307);let o=(0,h.A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var j=t(45583),u=t(97840);let p=(0,h.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var g=t(11437),f=t(99891),N=t(78122),v=t(67821);let b=(0,h.A)("git-commit-horizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);var y=t(35071),w=t(43649),A=t(48730);function k(){let[e,s]=(0,n.useState)([]),[t,h]=(0,n.useState)([]),[j,p]=(0,n.useState)(!1),[k,T]=(0,n.useState)("staging"),[C,Z]=(0,n.useState)(!0),S=async()=>{try{let e=await fetch("/api/cicd/deployments");if(e.ok){let t=await e.json();s(t.data)}else{let e=[{id:"1",version:"v2.1.0",environment:"production",status:"success",branch:"main",commit:"a1b2c3d4",author:"John Doe",startedAt:new Date(Date.now()-72e5).toISOString(),completedAt:new Date(Date.now()-54e5).toISOString(),duration:1800,changes:{added:12,modified:34,deleted:5},tests:{total:285,passed:276,failed:9}},{id:"2",version:"v2.0.9",environment:"staging",status:"running",branch:"develop",commit:"e5f6g7h8",author:"Jane Smith",startedAt:new Date(Date.now()-9e5).toISOString(),changes:{added:8,modified:22,deleted:3},tests:{total:265,passed:245,failed:0}},{id:"3",version:"v2.0.8",environment:"development",status:"failed",branch:"feature/new-ui",commit:"i9j0k1l2",author:"Bob Johnson",startedAt:new Date(Date.now()-27e5).toISOString(),completedAt:new Date(Date.now()-24e5).toISOString(),duration:300,changes:{added:15,modified:28,deleted:7},tests:{total:295,passed:280,failed:15}}];s(e)}}catch(e){console.error("Failed to fetch deployments:",e)}finally{Z(!1)}},B=async()=>{try{let e=await fetch("/api/cicd/pipelines");if(e.ok){let s=await e.json();h(s.data)}else{let e=[{id:"1",name:"主应用部署管道",description:"主应用程序的完整CI/CD流程",status:"active",lastRun:new Date(Date.now()-18e5).toISOString(),nextRun:new Date(Date.now()+18e5).toISOString(),triggers:["push","pull_request","schedule"],stages:[{name:"代码检查",status:"success",duration:120},{name:"单元测试",status:"success",duration:180},{name:"构建镜像",status:"success",duration:300},{name:"部署到Staging",status:"success",duration:240},{name:"集成测试",status:"running"},{name:"部署到Production",status:"pending"}]},{id:"2",name:"微服务部署管道",description:"微服务架构的独立部署流程",status:"active",lastRun:new Date(Date.now()-72e5).toISOString(),triggers:["push","manual"],stages:[{name:"服务构建",status:"success",duration:200},{name:"容器化",status:"success",duration:150},{name:"服务测试",status:"success",duration:180},{name:"服务部署",status:"success",duration:120}]},{id:"3",name:"数据库迁移管道",description:"数据库schema迁移和备份流程",status:"paused",lastRun:new Date(Date.now()-216e5).toISOString(),triggers:["manual"],stages:[{name:"数据库备份",status:"success",duration:300},{name:"迁移脚本",status:"pending"},{name:"数据验证",status:"pending"},{name:"性能测试",status:"pending"}]}];h(e)}}catch(e){console.error("Failed to fetch pipelines:",e)}},D=async e=>{p(!0);try{if((await fetch("/api/cicd/deploy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({environment:e})})).ok){let t={id:Date.now().toString(),version:`v2.1.1-${Date.now()}`,environment:e,status:"running",branch:"main",commit:"deploy-"+Date.now().toString(36),author:"Current User",startedAt:new Date().toISOString(),changes:{added:0,modified:0,deleted:0},tests:{total:0,passed:0,failed:0}};s(e=>[t,...e]),setTimeout(()=>{S(),p(!1)},5e3)}}catch(e){console.error("Failed to start deployment:",e),p(!1)}},R=async e=>{try{(await fetch("/api/cicd/rollback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deploymentId:e})})).ok&&s(s=>s.map(s=>s.id===e?{...s,status:"rolled_back"}:s))}catch(e){console.error("Failed to rollback deployment:",e)}},E=e=>{switch(e){case"success":return(0,a.jsx)(d.A,{className:"h-4 w-4 text-green-600"});case"failed":return(0,a.jsx)(y.A,{className:"h-4 w-4 text-red-600"});case"running":return(0,a.jsx)(N.A,{className:"h-4 w-4 text-blue-600 animate-spin"});case"rolled_back":return(0,a.jsx)(w.A,{className:"h-4 w-4 text-yellow-600"});default:return(0,a.jsx)(A.A,{className:"h-4 w-4 text-gray-600"})}},$=e=>{switch(e){case"success":return(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"成功"});case"failed":return(0,a.jsx)(i.E,{variant:"destructive",children:"失败"});case"running":return(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800",children:"运行中"});case"rolled_back":return(0,a.jsx)(i.E,{variant:"secondary",children:"已回滚"});default:return(0,a.jsx)(i.E,{variant:"outline",children:"待定"})}},W=e=>{switch(e){case"development":return(0,a.jsx)(x.A,{className:"h-4 w-4"});case"staging":return(0,a.jsx)(f.A,{className:"h-4 w-4"});default:return(0,a.jsx)(g.A,{className:"h-4 w-4"})}},z=e=>{switch(e){case"development":default:return"text-gray-600 bg-gray-50";case"staging":return"text-blue-600 bg-blue-50";case"production":return"text-green-600 bg-green-50"}};return C?(0,a.jsxs)("div",{className:"flex items-center justify-center h-96",children:[(0,a.jsx)(N.A,{className:"h-8 w-8 animate-spin"}),(0,a.jsx)("span",{className:"ml-2",children:"加载CI/CD数据..."})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"CI/CD 管道"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"管理自动化部署和持续集成流程"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:k,onChange:e=>T(e.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[(0,a.jsx)("option",{value:"development",children:"开发环境"}),(0,a.jsx)("option",{value:"staging",children:"预发布环境"}),(0,a.jsx)("option",{value:"production",children:"生产环境"})]}),(0,a.jsxs)(c.$,{onClick:()=>D(k),disabled:j,className:"bg-green-600 hover:bg-green-700",children:[j?(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(o,{className:"h-4 w-4 mr-2"}),"部署到 ",k]}),(0,a.jsxs)(c.$,{variant:"outline",onClick:()=>{S(),B()},children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"刷新"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"活跃管道"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.filter(e=>"active"===e.status).length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["共 ",t.length," 个管道"]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"成功部署"}),(0,a.jsx)(d.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"success"===e.status).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"最近24小时"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"运行中"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>"running"===e.status).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"正在部署"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"失败部署"}),(0,a.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>"failed"===e.status).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"需要处理"})]})]})]}),(0,a.jsxs)(r.Tabs,{defaultValue:"deployments",className:"space-y-4",children:[(0,a.jsxs)(r.TabsList,{children:[(0,a.jsx)(r.TabsTrigger,{value:"deployments",children:"部署历史"}),(0,a.jsx)(r.TabsTrigger,{value:"pipelines",children:"管道管理"}),(0,a.jsx)(r.TabsTrigger,{value:"environments",children:"环境管理"}),(0,a.jsx)(r.TabsTrigger,{value:"settings",children:"设置"})]}),(0,a.jsx)(r.TabsContent,{value:"deployments",className:"space-y-4",children:(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[W(e.environment),(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"text-lg flex items-center gap-2",children:[e.version,(0,a.jsx)(i.E,{className:z(e.environment),children:e.environment}),$(e.status)]}),(0,a.jsx)(l.BT,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"h-3 w-3"}),e.branch]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(b,{className:"h-3 w-3"}),e.commit.substring(0,7)]}),(0,a.jsxs)("span",{children:["作者: ",e.author]})]})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["failed"===e.status&&(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>R(e.id),children:"回滚"}),E(e.status)]})]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"开始时间"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.startedAt).toLocaleString()})]}),e.completedAt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"完成时间"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.completedAt).toLocaleString()})]}),e.duration&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"持续时间"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Math.floor(e.duration/60),"分",e.duration%60,"秒"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"代码变更"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",e.changes.added," -",e.changes.deleted," ~",e.changes.modified]})]})]}),e.tests.total>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"测试结果"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.tests.passed," 通过"]})]}),e.tests.failed>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.tests.failed," 失败"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["总计 ",e.tests.total," 个测试"]})})]})]})]})]},e.id))})}),(0,a.jsx)(r.TabsContent,{value:"pipelines",className:"space-y-4",children:(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"text-lg flex items-center gap-2",children:[e.name,(0,a.jsx)(i.E,{variant:"active"===e.status?"default":"secondary",children:e.status})]}),(0,a.jsx)(l.BT,{children:e.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(c.$,{size:"sm",variant:"outline",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-1"}),"运行"]}),(0,a.jsxs)(c.$,{size:"sm",variant:"outline",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"配置"]})]})]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["最后运行: ",new Date(e.lastRun).toLocaleString()]}),e.nextRun&&(0,a.jsxs)("span",{children:["下次运行: ",new Date(e.nextRun).toLocaleString()]}),(0,a.jsxs)("span",{children:["触发器: ",e.triggers.join(", ")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-3",children:"管道阶段"}),(0,a.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:e.stages.map((s,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`w-3 h-3 rounded-full ${"success"===s.status?"bg-green-600":"failed"===s.status?"bg-red-600":"running"===s.status?"bg-blue-600 animate-pulse":"bg-gray-400"}`}),(0,a.jsx)("span",{className:"text-sm",children:s.name}),s.duration&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",s.duration,"s)"]}),t<e.stages.length-1&&(0,a.jsx)("div",{className:"w-4 h-px bg-gray-300"})]},t))})]})]})})]},e.id))})}),(0,a.jsx)(r.TabsContent,{value:"environments",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"开发环境"]}),(0,a.jsx)(l.BT,{children:"用于开发和测试的环境"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"状态"}),(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"运行中"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"当前版本"}),(0,a.jsx)("span",{children:"v2.0.8"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"最后部署"}),(0,a.jsx)("span",{children:"45分钟前"})]}),(0,a.jsxs)(c.$,{className:"w-full mt-4",variant:"outline",children:[(0,a.jsx)(o,{className:"h-4 w-4 mr-2"}),"部署到开发环境"]})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5"}),"预发布环境"]}),(0,a.jsx)(l.BT,{children:"生产前的最终测试环境"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"状态"}),(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800",children:"部署中"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"当前版本"}),(0,a.jsx)("span",{children:"v2.0.9"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"最后部署"}),(0,a.jsx)("span",{children:"15分钟前"})]}),(0,a.jsxs)(c.$,{className:"w-full mt-4",disabled:!0,children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"部署中..."]})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"生产环境"]}),(0,a.jsx)(l.BT,{children:"正式运行的生产环境"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"状态"}),(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"运行中"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"当前版本"}),(0,a.jsx)("span",{children:"v2.1.0"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"最后部署"}),(0,a.jsx)("span",{children:"2小时前"})]}),(0,a.jsxs)(c.$,{className:"w-full mt-4",children:[(0,a.jsx)(o,{className:"h-4 w-4 mr-2"}),"部署到生产环境"]})]})})]})]})}),(0,a.jsx)(r.TabsContent,{value:"settings",className:"space-y-4",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"CI/CD 设置"}),(0,a.jsx)(l.BT,{children:"配置持续集成和部署参数"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(x.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"配置管理"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"CI/CD配置功能正在开发中，包括环境变量、部署策略等"}),(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"配置CI/CD"]})]})})]})})]})]})}let T="force-dynamic";function C(){let[e,s]=(0,n.useState)("dashboard");return(0,a.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"CI/CD 管道中心"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"管理持续集成、部署和交付流程"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(i.E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,a.jsx)(d.A,{className:"h-3 w-3 mr-1"}),"管道正常"]}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"管道设置"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"活跃管道"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"3"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"2个运行中, 1个暂停"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"今日部署"}),(0,a.jsx)(o,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"8"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"7成功, 1失败"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"平均部署时间"}),(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"6.5分"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"较上周优化 15%"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"成功率"}),(0,a.jsx)(d.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"94.2%"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"最近30天"})]})]})]}),(0,a.jsxs)(r.Tabs,{value:e,onValueChange:s,className:"space-y-4",children:[(0,a.jsxs)(r.TabsList,{className:"grid w-full grid-cols-5",children:[(0,a.jsx)(r.TabsTrigger,{value:"dashboard",children:"管道仪表板"}),(0,a.jsx)(r.TabsTrigger,{value:"deployments",children:"部署管理"}),(0,a.jsx)(r.TabsTrigger,{value:"environments",children:"环境管理"}),(0,a.jsx)(r.TabsTrigger,{value:"monitoring",children:"监控日志"}),(0,a.jsx)(r.TabsTrigger,{value:"settings",children:"设置配置"})]}),(0,a.jsx)(r.TabsContent,{value:"dashboard",children:(0,a.jsx)(k,{})}),(0,a.jsxs)(r.TabsContent,{value:"deployments",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(o,{className:"h-5 w-5"}),"快速部署"]}),(0,a.jsx)(l.BT,{children:"选择环境和分支进行快速部署"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"目标环境"}),(0,a.jsxs)("select",{className:"w-full mt-1 px-3 py-2 border rounded-md",children:[(0,a.jsx)("option",{value:"development",children:"开发环境"}),(0,a.jsx)("option",{value:"staging",children:"预发布环境"}),(0,a.jsx)("option",{value:"production",children:"生产环境"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"分支"}),(0,a.jsxs)("select",{className:"w-full mt-1 px-3 py-2 border rounded-md",children:[(0,a.jsx)("option",{value:"main",children:"main"}),(0,a.jsx)("option",{value:"develop",children:"develop"}),(0,a.jsx)("option",{value:"feature/new-ui",children:"feature/new-ui"})]})]}),(0,a.jsxs)(c.$,{className:"w-full",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"开始部署"]})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-5 w-5"}),"最近部署"]}),(0,a.jsx)(l.BT,{children:"最新的部署活动记录"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:"v2.1.0"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"生产环境 • 2小时前"})]})]}),(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"成功"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:"v2.0.9"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"预发布环境 • 15分钟前"})]})]}),(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800",children:"运行中"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 text-gray-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:"v2.0.8"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"开发环境 • 45分钟前"})]})]}),(0,a.jsx)(i.E,{variant:"destructive",children:"失败"})]})]})})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"部署队列"}),(0,a.jsx)(l.BT,{children:"当前等待执行的部署任务"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"部署队列"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"当前没有等待的部署任务"}),(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"刷新状态"]})]})})]})]}),(0,a.jsx)(r.TabsContent,{value:"environments",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"开发环境"]}),(0,a.jsx)(l.BT,{children:"用于开发和功能测试"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"状态"}),(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"运行中"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"当前版本"}),(0,a.jsx)("span",{className:"font-mono text-sm",children:"v2.0.8"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"最后部署"}),(0,a.jsx)("span",{className:"text-sm",children:"45分钟前"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"自动部署"}),(0,a.jsx)(i.E,{variant:"outline",children:"启用"})]}),(0,a.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,a.jsxs)(c.$,{size:"sm",className:"w-full",variant:"outline",children:[(0,a.jsx)(o,{className:"h-4 w-4 mr-2"}),"部署到开发环境"]}),(0,a.jsxs)(c.$,{size:"sm",className:"w-full",variant:"outline",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"环境设置"]})]})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5"}),"预发布环境"]}),(0,a.jsx)(l.BT,{children:"生产前的最终测试环境"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"状态"}),(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800",children:"部署中"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"当前版本"}),(0,a.jsx)("span",{className:"font-mono text-sm",children:"v2.0.9"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"最后部署"}),(0,a.jsx)("span",{className:"text-sm",children:"15分钟前"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"自动部署"}),(0,a.jsx)(i.E,{variant:"outline",children:"启用"})]}),(0,a.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,a.jsxs)(c.$,{size:"sm",className:"w-full",disabled:!0,children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"部署中..."]}),(0,a.jsxs)(c.$,{size:"sm",className:"w-full",variant:"outline",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"环境设置"]})]})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"生产环境"]}),(0,a.jsx)(l.BT,{children:"正式运行的生产环境"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"状态"}),(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800",children:"运行中"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"当前版本"}),(0,a.jsx)("span",{className:"font-mono text-sm",children:"v2.1.0"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"最后部署"}),(0,a.jsx)("span",{className:"text-sm",children:"2小时前"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"自动部署"}),(0,a.jsx)(i.E,{variant:"outline",children:"手动"})]}),(0,a.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,a.jsxs)(c.$,{size:"sm",className:"w-full",children:[(0,a.jsx)(o,{className:"h-4 w-4 mr-2"}),"部署到生产环境"]}),(0,a.jsxs)(c.$,{size:"sm",className:"w-full",variant:"outline",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"环境设置"]})]})]})})]})]})}),(0,a.jsx)(r.TabsContent,{value:"monitoring",className:"space-y-6",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"监控和日志"}),(0,a.jsx)(l.BT,{children:"实时监控部署状态和查看详细日志"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(m.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"监控中心"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"部署监控和日志查看功能正在开发中"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"实时监控"]}),(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(p,{className:"h-4 w-4 mr-2"}),"查看日志"]})]})]})})]})}),(0,a.jsx)(r.TabsContent,{value:"settings",className:"space-y-6",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"CI/CD 设置"}),(0,a.jsx)(l.BT,{children:"配置管道参数和环境变量"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(x.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"配置管理"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"完整的CI/CD配置功能正在开发中"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"管道配置"]}),(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(b,{className:"h-4 w-4 mr-2"}),"环境变量"]})]})]})})]})})]})]})}},48730:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40307).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},58559:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40307).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},61823:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d});var a=t(65239),n=t(48088),l=t(88170),r=t.n(l),i=t(30893),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d={children:["",{children:["cicd",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,93164)),"/Users/macbookprom1/apexrebate-1/src/app/cicd/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/macbookprom1/apexrebate-1/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,x=["/Users/macbookprom1/apexrebate-1/src/app/cicd/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/cicd/page",pathname:"/cicd",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67821:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40307).A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},78122:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40307).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},79551:e=>{"use strict";e.exports=require("url")},93164:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,dynamic:()=>n});var a=t(12907);let n=(0,a.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macbookprom1/apexrebate-1/src/app/cicd/page.tsx","dynamic"),l=(0,a.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/macbookprom1/apexrebate-1/src/app/cicd/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macbookprom1/apexrebate-1/src/app/cicd/page.tsx","default")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[7719,689,1658,9365,1726,5146,3032],()=>t(61823));module.exports=a})();