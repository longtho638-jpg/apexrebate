(()=>{var e={};e.id=4680,e.ids=[4680],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22895:(e,t,s)=>{Promise.resolve().then(s.bind(s,94118))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43649:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(40307).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},85763:(e,t,s)=>{"use strict";s.d(t,{Tabs:()=>n,TabsContent:()=>c,TabsList:()=>l,TabsTrigger:()=>o});var a=s(60687);s(43210);var r=s(55146),i=s(4780);function n({className:e,...t}){return(0,a.jsx)(r.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",e),...t})}function l({className:e,...t}){return(0,a.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function o({className:e,...t}){return(0,a.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function c({className:e,...t}){return(0,a.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",e),...t})}},86221:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=s(65239),r=s(48088),i=s(88170),n=s.n(i),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c={children:["",{children:["auth",{children:["signin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87578)),"/Users/macbookprom1/apexrebate-1/src/app/auth/signin/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/macbookprom1/apexrebate-1/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/macbookprom1/apexrebate-1/src/app/auth/signin/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/auth/signin/page",pathname:"/auth/signin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},87578:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/macbookprom1/apexrebate-1/src/app/auth/signin/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/macbookprom1/apexrebate-1/src/app/auth/signin/page.tsx","default")},94118:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(60687),r=s(43210),i=s(82136),n=s(16189),l=s(85814),o=s.n(l),c=s(29523),d=s(89667),u=s(80013),p=s(44493),m=s(91821),x=s(85763),h=s(99891),g=s(43649),b=s(41550),f=s(64021),v=s(12597),j=s(13861);let y=(0,s(40307).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);function w(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)().get("callbackUrl")||"/dashboard",[s,l]=(0,r.useState)(!1),[w,N]=(0,r.useState)(""),[k,C]=(0,r.useState)(""),[P,A]=(0,r.useState)(!1),[T,F]=(0,r.useState)(!1),[S,_]=(0,r.useState)({email:"",password:"",twoFactorCode:""}),q=(e,t)=>{_(s=>({...s,[e]:t})),N("")},E=async(s,a=!1)=>{s.preventDefault(),l(!0),N("");try{let s=await (0,i.signIn)("credentials",{email:S.email,password:S.password,twoFactorCode:a?S.twoFactorCode:void 0,redirect:!1});s?.error?s.error.includes("Two-factor code required")?F(!0):N(s.error):s?.ok&&e.push(t)}catch(e){N("An error occurred. Please try again.")}finally{l(!1)}},G=async()=>{l(!0);try{await (0,i.signIn)("google",{callbackUrl:t})}catch(e){N("Failed to sign in with Google")}finally{l(!1)}},z=async()=>{if(!S.email)return void N("Please enter your email address first");l(!0);try{let e=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S.email})}),t=await e.json();e.ok?C("Password reset instructions have been sent to your email"):N(t.error||"Failed to send reset email")}catch(e){N("An error occurred. Please try again.")}finally{l(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"w-full max-w-md",children:(0,a.jsxs)(p.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(p.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mb-4",children:(0,a.jsx)(h.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)(p.ZB,{className:"text-2xl font-bold",children:"Welcome Back"}),(0,a.jsx)(p.BT,{children:"Sign in to your ApexRebate account"})]}),(0,a.jsxs)(p.Wu,{className:"space-y-6",children:[w&&(0,a.jsxs)(m.Fc,{variant:"destructive",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),(0,a.jsx)(m.TN,{children:w})]}),k&&(0,a.jsxs)(m.Fc,{className:"bg-green-50 border-green-200",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(m.TN,{className:"text-green-800",children:k})]}),(0,a.jsxs)(x.Tabs,{defaultValue:"email",className:"w-full",children:[(0,a.jsxs)(x.TabsList,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(x.TabsTrigger,{value:"email",children:"Email"}),(0,a.jsx)(x.TabsTrigger,{value:"google",children:"Google"})]}),(0,a.jsx)(x.TabsContent,{value:"email",className:"space-y-4",children:T?(0,a.jsxs)("form",{onSubmit:e=>E(e,!0),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(y,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Two-Factor Authentication"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{htmlFor:"twoFactorCode",children:"Authentication Code"}),(0,a.jsx)(d.p,{id:"twoFactorCode",type:"text",placeholder:"000000",value:S.twoFactorCode,onChange:e=>q("twoFactorCode",e.target.value.replace(/\D/g,"").slice(0,6)),className:"text-center text-lg tracking-widest",maxLength:6,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(c.$,{type:"submit",className:"w-full",disabled:s,children:s?"Verifying...":"Verify Code"}),(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>F(!1),className:"w-full",children:"Back to Password"})]})]}):(0,a.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{htmlFor:"email",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(d.p,{id:"email",type:"email",placeholder:"john@example.com",value:S.email,onChange:e=>q("email",e.target.value),className:"pl-10",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(d.p,{id:"password",type:P?"text":"password",placeholder:"Enter your password",value:S.password,onChange:e=>q("password",e.target.value),className:"pl-10 pr-10",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>A(!P),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:P?(0,a.jsx)(v.A,{className:"h-4 w-4"}):(0,a.jsx)(j.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2"}),"Remember me"]}),(0,a.jsx)("button",{type:"button",onClick:z,className:"text-blue-600 hover:underline",disabled:s,children:"Forgot password?"})]}),(0,a.jsx)(c.$,{type:"submit",className:"w-full",disabled:s,children:s?"Signing In...":"Sign In"})]})}),(0,a.jsx)(x.TabsContent,{value:"google",className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Sign in with your Google account to get started quickly"}),(0,a.jsxs)(c.$,{onClick:G,className:"w-full",variant:"outline",disabled:s,children:[(0,a.jsxs)("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Signing In...":"Continue with Google"]})]})})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(o(),{href:"/auth/signup",className:"text-blue-600 hover:underline",children:"Sign up"})]}),(0,a.jsxs)("div",{className:"text-center text-xs text-gray-500",children:["By signing in, you agree to our"," ",(0,a.jsx)(o(),{href:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",(0,a.jsx)(o(),{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]})]})})})}},94871:(e,t,s)=>{Promise.resolve().then(s.bind(s,87578))}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[7719,689,1658,9365,1726,5146,5814,7747],()=>s(86221));module.exports=a})();