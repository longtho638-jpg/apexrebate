(()=>{var e={};e.id=5681,e.ids=[5681],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},59314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>m,routeModule:()=>c,serverHooks:()=>x,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{GET:()=>p,runtime:()=>u});var n=r(96559),a=r(48088),i=r(37719),o=r(32190);let u="nodejs";async function p(){try{let e=!!process.env.DATABASE_URL,t=process.env.DATABASE_URL?.length||0,{PrismaClient:s}=await Promise.resolve().then(r.t.bind(r,96330,23)),{prisma:n}=await r.e(5069).then(r.bind(r,5069)),a=Object.keys(n),i="user"in n,u=n.user,p=u?Object.keys(u):[],c=null,d=!1;try{let e=new s;await e.user.count(),d=!0,await e.$disconnect()}catch(e){c=e.message}return o.NextResponse.json({diagnostics:{hasDbUrl:e,dbUrlLength:t,dbUrlPrefix:process.env.DATABASE_URL?.substring(0,20)+"...",prismaKeys:a.slice(0,20),prismaHasUser:i,userType:typeof u,userKeys:p.slice(0,10),manualQuerySuccess:d,manualQueryError:c}})}catch(e){return o.NextResponse.json({error:"Test failed",message:e.message,stack:void 0},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/test-db/route",pathname:"/api/test-db",filename:"route",bundlePath:"app/api/test-db/route"},resolvedPagePath:"/Users/macbookprom1/apexrebate-1/src/app/api/test-db/route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:l,serverHooks:x}=c;function m(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:l})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96330:e=>{"use strict";e.exports=require("@prisma/client")},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7719,580],()=>r(59314));module.exports=s})();