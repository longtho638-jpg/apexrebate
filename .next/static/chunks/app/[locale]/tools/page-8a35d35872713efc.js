(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{4259:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>w});var a=l(95155),r=l(12115),t=l(12108),c=l(17652),i=l(30285),n=l(62523),d=l(59409),h=l(66695),x=l(26126),m=l(91394),o=l(29869),u=l(72713),j=l(47924),g=l(54653),N=l(15968),p=l(38564),v=l(17580),b=l(6874),f=l.n(b);function w(){var e;let{data:s}=(0,t.useSession)();(0,c.c3)();let[l,b]=(0,r.useState)([]),[w,D]=(0,r.useState)([]),[y,C]=(0,r.useState)(!0),[A,T]=(0,r.useState)(""),[E,S]=(0,r.useState)("all"),[k,B]=(0,r.useState)("all"),[O,R]=(0,r.useState)("popular"),[I,$]=(0,r.useState)("grid");(0,r.useEffect)(()=>{G(),_()},[]);let G=async()=>{try{let e=await fetch("/api/tools");if(e.ok){let s=await e.json();b(s)}}catch(e){console.error("Failed to fetch tools:",e)}finally{C(!1)}},_=async()=>{try{let e=await fetch("/api/tools/categories");if(e.ok){let s=await e.json();D(s)}}catch(e){console.error("Failed to fetch categories:",e)}},q=[...l.filter(e=>{let s=e.name.toLowerCase().includes(A.toLowerCase())||e.description.toLowerCase().includes(A.toLowerCase()),l="all"===E||e.category===E,a="all"===k||e.type===k;return s&&l&&a})].sort((e,s)=>{switch(O){case"popular":return s.sales-e.sales;case"rating":return s.rating-e.rating;case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"newest":return new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime();default:return 0}}),L=e=>{switch(e){case"INDICATOR":return"\uD83D\uDCCA";case"BOT":return"\uD83E\uDD16";case"SCANNER":return"\uD83D\uDD0D";case"STRATEGY":return"\uD83D\uDCCB";case"EDUCATION":return"\uD83D\uDCDA";default:return"\uD83D\uDD27"}},F=e=>{switch(e){case"INDICATOR":return"Chỉ b\xe1o";case"BOT":return"Bot";case"SCANNER":return"Scanner";case"STRATEGY":return"Chiến lược";case"EDUCATION":return"Gi\xe1o dục";default:return e}};return y?(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-muted rounded w-1/2 mb-8"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsx)("div",{className:"h-64 bg-muted rounded-lg"},s))})]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Chợ C\xf4ng Cụ"}),(0,a.jsx)("p",{className:"text-green-100 text-lg",children:"Kh\xe1m ph\xe1 v\xe0 mua c\xe1c c\xf4ng cụ giao dịch chuy\xean nghiệp từ cộng đồng trader h\xe0ng đầu"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[s&&(0,a.jsx)(f(),{href:"/tools/upload",children:(0,a.jsxs)(i.$,{className:"bg-white text-green-600 hover:bg-green-50",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Đăng C\xf4ng Cụ"]})}),(null==s||null==(e=s.user)?void 0:e.role)==="ADMIN"&&(0,a.jsx)(f(),{href:"/tools/analytics",children:(0,a.jsxs)(i.$,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-green-600",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Ph\xe2n T\xedch"]})})]})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("div",{className:"bg-card rounded-lg border p-6 mb-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,a.jsx)(n.p,{placeholder:"T\xecm kiếm c\xf4ng cụ...",value:A,onChange:e=>T(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(d.l6,{value:E,onValueChange:S,children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Danh mục"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"all",children:"Tất cả danh mục"}),w.map(e=>(0,a.jsxs)(d.eb,{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,a.jsxs)(d.l6,{value:k,onValueChange:B,children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Loại"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"all",children:"Tất cả loại"}),(0,a.jsx)(d.eb,{value:"INDICATOR",children:"\uD83D\uDCCA Chỉ b\xe1o"}),(0,a.jsx)(d.eb,{value:"BOT",children:"\uD83E\uDD16 Bot"}),(0,a.jsx)(d.eb,{value:"SCANNER",children:"\uD83D\uDD0D Scanner"}),(0,a.jsx)(d.eb,{value:"STRATEGY",children:"\uD83D\uDCCB Chiến lược"}),(0,a.jsx)(d.eb,{value:"EDUCATION",children:"\uD83D\uDCDA Gi\xe1o dục"})]})]}),(0,a.jsxs)(d.l6,{value:O,onValueChange:R,children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Sắp xếp"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"popular",children:"\uD83D\uDD25 Phổ biến nhất"}),(0,a.jsx)(d.eb,{value:"rating",children:"⭐ Đ\xe1nh gi\xe1 cao"}),(0,a.jsx)(d.eb,{value:"price-low",children:"\uD83D\uDCB0 Gi\xe1 thấp đến cao"}),(0,a.jsx)(d.eb,{value:"price-high",children:"\uD83D\uDC8E Gi\xe1 cao đến thấp"}),(0,a.jsx)(d.eb,{value:"newest",children:"\uD83C\uDD95 Mới nhất"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.$,{variant:"grid"===I?"default":"outline",size:"sm",onClick:()=>$("grid"),children:(0,a.jsx)(g.A,{className:"w-4 h-4"})}),(0,a.jsx)(i.$,{variant:"list"===I?"default":"outline",size:"sm",onClick:()=>$("list"),children:(0,a.jsx)(N.A,{className:"w-4 h-4"})})]})]})}),q.filter(e=>e.featured).length>0&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-yellow-500 mr-2"}),"C\xf4ng Cụ Nổi Bật"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.filter(e=>e.featured).slice(0,3).map(e=>(0,a.jsxs)(h.Zp,{className:"border-yellow-200 bg-yellow-50/50",children:[(0,a.jsx)(h.aR,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:L(e.type)}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:e.name}),(0,a.jsx)(x.E,{variant:"secondary",className:"mt-1",children:F(e.type)})]})]}),(0,a.jsxs)(x.E,{className:"bg-yellow-500 text-white",children:[(0,a.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"Nổi bật"]})]})}),(0,a.jsxs)(h.Wu,{children:[(0,a.jsx)(h.BT,{className:"mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m.eu,{className:"w-6 h-6",children:[(0,a.jsx)(m.BK,{src:e.seller.avatar}),(0,a.jsx)(m.q5,{children:e.seller.name.charAt(0)})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.seller.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.rating.toFixed(1)}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",e.reviews,")"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",e.price]})}),(0,a.jsx)(f(),{href:"/tools/".concat(e.id),children:(0,a.jsx)(i.$,{className:"bg-green-600 hover:bg-green-700",children:"Xem chi tiết"})})]})]})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("h2",{className:"text-2xl font-bold",children:["Tất cả c\xf4ng cụ (",q.length,")"]})}),0===q.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD27"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Kh\xf4ng t\xecm thấy c\xf4ng cụ n\xe0o"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Thử thay đổi bộ lọc hoặc t\xecm kiếm với từ kh\xf3a kh\xe1c"})]}):(0,a.jsx)("div",{className:"grid"===I?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:q.map(e=>(0,a.jsxs)(h.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsx)(h.aR,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:L(e.type)}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:e.name}),(0,a.jsx)(x.E,{variant:"secondary",className:"mt-1",children:F(e.type)})]})]}),e.featured&&(0,a.jsxs)(x.E,{className:"bg-yellow-500 text-white",children:[(0,a.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"Nổi bật"]})]})}),(0,a.jsxs)(h.Wu,{children:[(0,a.jsx)(h.BT,{className:"mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m.eu,{className:"w-6 h-6",children:[(0,a.jsx)(m.BK,{src:e.seller.avatar}),(0,a.jsx)(m.q5,{children:e.seller.name.charAt(0)})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.seller.name})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsx)("span",{className:"font-medium",children:e.rating.toFixed(1)}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["(",e.reviews," đ\xe1nh gi\xe1)"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.sales," đ\xe3 b\xe1n"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"text-xl font-bold text-green-600",children:["$",e.price]})}),(0,a.jsx)(f(),{href:"/tools/".concat(e.id),children:(0,a.jsx)(i.$,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Xem chi tiết"})})]})]})]})]},e.id))})]})]})]})}},85210:(e,s,l)=>{Promise.resolve().then(l.bind(l,4259))}},e=>{var s=s=>e(e.s=s);e.O(0,[3455,3942,2108,6874,1057,2797,4192,8441,1684,7358],()=>s(85210)),_N_E=e.O()}]);